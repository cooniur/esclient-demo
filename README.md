# esclient-demo

`QueryBuilders` fails with an exception:

  13:21:00.220 [main] DEBUG c.t.d.esclient.EsClientFactoryTest - Before SearchRequestBuilder...

	java.lang.NoClassDefFoundError: com/vividsolutions/jts/geom/Coordinate
		at java.lang.Class.getDeclaredMethods0(Native Method)
		at java.lang.Class.privateGetDeclaredMethods(Class.java:2693)
		at java.lang.Class.getDeclaredMethods(Class.java:1967)
		at org.codehaus.groovy.reflection.stdclasses.CachedSAMClass$1.run(CachedSAMClass.java:101)
		at org.codehaus.groovy.reflection.stdclasses.CachedSAMClass$1.run(CachedSAMClass.java:99)
		at java.security.AccessController.doPrivileged(Native Method)
		at org.codehaus.groovy.reflection.stdclasses.CachedSAMClass.getDeclaredMethods(CachedSAMClass.java:99)
		at org.codehaus.groovy.reflection.stdclasses.CachedSAMClass.getAbstractMethods(CachedSAMClass.java:117)
		at org.codehaus.groovy.reflection.stdclasses.CachedSAMClass.getSAMMethod(CachedSAMClass.java:183)
		at org.codehaus.groovy.reflection.ClassInfo.isSAM(ClassInfo.java:356)
		at org.codehaus.groovy.reflection.ClassInfo.createCachedClass(ClassInfo.java:346)
		at org.codehaus.groovy.reflection.ClassInfo.access$700(ClassInfo.java:38)
		at org.codehaus.groovy.reflection.ClassInfo$LazyCachedClassRef.initValue(ClassInfo.java:494)
		at org.codehaus.groovy.reflection.ClassInfo$LazyCachedClassRef.initValue(ClassInfo.java:485)
		at org.codehaus.groovy.util.LazyReference.getLocked(LazyReference.java:46)
		at org.codehaus.groovy.util.LazyReference.get(LazyReference.java:33)
		at org.codehaus.groovy.reflection.ClassInfo.getCachedClass(ClassInfo.java:108)
		at org.codehaus.groovy.reflection.ReflectionCache.getCachedClass(ReflectionCache.java:107)
		at org.codehaus.groovy.reflection.ParameterTypes.getParametersTypes0(ParameterTypes.java:78)
		at org.codehaus.groovy.reflection.ParameterTypes.getParameterTypes(ParameterTypes.java:64)
		at org.codehaus.groovy.reflection.CachedMethod.compareToCachedMethod(CachedMethod.java:154)
		at org.codehaus.groovy.reflection.CachedMethod.compareTo(CachedMethod.java:137)
		at java.util.ComparableTimSort.binarySort(ComparableTimSort.java:258)
		at java.util.ComparableTimSort.sort(ComparableTimSort.java:203)
		at java.util.Arrays.sort(Arrays.java:1246)
		at org.codehaus.groovy.reflection.CachedClass$3.initValue(CachedClass.java:119)
		at org.codehaus.groovy.reflection.CachedClass$3.initValue(CachedClass.java:81)
		at org.codehaus.groovy.util.LazyReference.getLocked(LazyReference.java:46)
		at org.codehaus.groovy.util.LazyReference.get(LazyReference.java:33)
		at org.codehaus.groovy.reflection.CachedClass.getMethods(CachedClass.java:257)
		at groovy.lang.MetaClassImpl.populateMethods(MetaClassImpl.java:362)
		at groovy.lang.MetaClassImpl.fillMethodIndex(MetaClassImpl.java:341)
		at groovy.lang.MetaClassImpl.initialize(MetaClassImpl.java:3261)
		at org.codehaus.groovy.reflection.ClassInfo.getMetaClassUnderLock(ClassInfo.java:251)
		at org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:282)
		at org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.getMetaClass(MetaClassRegistryImpl.java:255)
		at org.codehaus.groovy.runtime.InvokerHelper.getMetaClass(InvokerHelper.java:872)
		at org.codehaus.groovy.runtime.callsite.CallSiteArray.createCallStaticSite(CallSiteArray.java:72)
		at org.codehaus.groovy.runtime.callsite.CallSiteArray.createCallSite(CallSiteArray.java:159)
		at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)
		at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:110)
		at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:114)
		at com.tliu.demo.esclient.EsClientFactoryTest.test(EsClientFactoryTest.groovy:35)
		at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
		at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
		at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
		at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
		at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
		at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
		at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
		at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
		at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
		at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
		at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
		at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
		at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
		at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
		at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
		at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
		at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
		at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
		at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:74)
		at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:211)
		at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:67)
		at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
		at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
		at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)
	Caused by: java.lang.ClassNotFoundException: com.vividsolutions.jts.geom.Coordinate
		at java.net.URLClassLoader$1.run(URLClassLoader.java:372)
		at java.net.URLClassLoader$1.run(URLClassLoader.java:361)
		at java.security.AccessController.doPrivileged(Native Method)
		at java.net.URLClassLoader.findClass(URLClassLoader.java:360)
		at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
		at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)
		at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
		... 70 more
